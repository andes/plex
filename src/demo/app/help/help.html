<plex-layout main="8">
    <plex-layout-main>
        <plex-title main titulo="plex-help">
            <plex-button size="sm" type="warning" label="acción sensible"></plex-button>
            <plex-help size="full" titulo="Ayuda de este panel" btnType="info" icon="help">
                <div class="pt-2 ml-4 mb-4">
                    <strong>Descripción general</strong>
                    <p>El componente <code>plex-help</code> sirve como una ayuda contextual sobre un módulo, pantalla o
                        sección.</p>
                    <p>Se emplea en casos en los que se necesita brindar información complementaria y circunstancial al
                        usuario.</p>
                </div>
            </plex-help>
        </plex-title>
        <main role="main" class="inner">
            <p class="lead">
                El componente <em>plex-help</em> sirve como una ayuda más o menos amplia sobre un
                módulo, pantalla o sección.
            </p>
            <ul>
                <li class="list-item">Es un elemento emergente de carácter informativo.</li>
                <li class="list-item">Evita incorporar elementos informativos que le restan espacio, jerarquía y
                    visibilidad a otros de mayor relevancia o frecuencia de uso en las interfaces.</li>
            </ul>
            <hr>

            <h4>Propiedades del componente</h4>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Propiedad</th>
                        <th>Tipo</th>
                        <th>Valor por defecto</th>
                        <th>Descripción</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>titulo</td>
                        <td>string</td>
                        <td>''</td>
                        <td>Título principal del panel de ayuda</td>
                    </tr>
                    <tr>
                        <td>subtitulo</td>
                        <td>string</td>
                        <td>undefined</td>
                        <td>Subtítulo opcional para el panel de ayuda</td>
                    </tr>
                    <tr>
                        <td>size</td>
                        <td>'sm' | 'md' | 'lg' | 'auto' | 'full'</td>
                        <td>'auto'</td>
                        <td>Tamaño del panel de ayuda</td>
                    </tr>
                    <tr>
                        <td>btnSize</td>
                        <td>'sm' | 'md' | 'lg'</td>
                        <td>'sm'</td>
                        <td>Tamaño del botón que activa el panel</td>
                    </tr>
                    <tr>
                        <td>btnType</td>
                        <td>PlexType</td>
                        <td>'info'</td>
                        <td>Tipo/color del botón (info, success, danger, etc.)</td>
                    </tr>
                    <tr>
                        <td>tituloBoton</td>
                        <td>string</td>
                        <td>''</td>
                        <td>Texto para el botón que activa el panel</td>
                    </tr>
                    <tr>
                        <td>icon</td>
                        <td>string</td>
                        <td>'help'</td>
                        <td>Ícono para el botón que activa el panel</td>
                    </tr>
                    <tr>
                        <td>scroll</td>
                        <td>boolean</td>
                        <td>true</td>
                        <td>Habilita/deshabilita el scroll en el panel</td>
                    </tr>
                    <tr>
                        <td>maxHeight</td>
                        <td>string</td>
                        <td>'80vh'</td>
                        <td>Altura máxima del panel</td>
                    </tr>
                </tbody>
            </table>

            <h4 class="mt-4">Eventos</h4>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Evento / Método</th>
                        <th>Descripción</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>(open)</td>
                        <td>Se emite cuando se abre el panel de ayuda</td>
                    </tr>
                    <tr>
                        <td>(close)</td>
                        <td>Se emite cuando se cierra el panel de ayuda</td>
                    </tr>
                    <tr>
                        <td>toggle()</td>
                        <td>Método que permite cerrar el panel de ayuda programáticamente</td>
                    </tr>
                </tbody>
            </table>

            <h4 class="mt-4">Ejemplos de tamaños de botón</h4>
            <!-- <plex-title titulo="Ejemplos de tamaños de botón" size="sm"></plex-title> -->
            <div class="d-flex flex-column gap-4">
                <!-- Small -->
                <div class="mb-3">
                    <plex-title size="sm" titulo='plex-help con btnSize="sm"' class="mb-4"></plex-title>
                    <span class="mb-2 d-block">Para secciones de ayuda complementarias o funcionalidades
                        secundarias</span>
                    <div class="d-flex gap-2">
                        <plex-help titulo="Botón Small (sm)" btnSize="sm" btnType="info">
                            <p class="p-3">Este es un ejemplo de plex-help con botón pequeño</p>
                        </plex-help>

                        <plex-help titulo="Botón Small con texto" btnSize="sm" tituloBoton="Ayuda" btnType="primary">
                            <p class="p-3">Este es un ejemplo de plex-help con botón pequeño y texto</p>
                        </plex-help>
                    </div>
                </div>

                <!-- Medium -->
                <div class="mb-3">
                    <plex-title size="sm" titulo='plex-help con btnSize="md"' class="mb-4"></plex-title>
                    <span class="mb-2 d-block">Para secciones de ayuda estándar o funcionalidades
                        secundarias</span>
                    <div class="d-flex gap-2">
                        <plex-help titulo="Botón Medium (md)" btnSize="md" btnType="success">
                            <p class="p-3">Este es un ejemplo de plex-help con botón mediano</p>
                        </plex-help>
                    </div>
                </div>

                <!-- Large -->
                <div>
                    <plex-title size="sm" titulo='plex-help con btnSize="lg"' class="mb-4"></plex-title>
                    <span class="mb-2 d-block">Para secciones de ayuda importantes o funcionalidades
                        principales</span>
                    <div class="d-flex gap-2">
                        <plex-help titulo="Botón Large con texto" btnSize="lg" tituloBoton="Más información"
                                   btnType="danger">
                            <p class="p-3">Este es un ejemplo de plex-help con botón grande y texto</p>
                        </plex-help>
                    </div>
                </div>
            </div>

            <h4 class="mt-4">Ejemplos de tamaños de modal</h4>

            <plex-title size="sm" titulo='plex-help con size="sm"' class="mb-4">
                <plex-badge type="info" size="sm">plex-help</plex-badge>
                <plex-help titulo="size = sm" size="sm">
                    <div class="ml-4 mb-4">
                        <p>Panel de ayuda con tamaño pequeño (400px)</p>
                    </div>
                </plex-help>
            </plex-title>

            <plex-title size="sm" titulo='plex-help con size="md"' class="mb-4">
                <plex-badge type="info" size="sm">plex-help</plex-badge>
                <plex-help titulo="size = md" size="md">
                    <div class="ml-4 mb-4">
                        <p>Panel de ayuda con tamaño mediano (600px)</p>
                    </div>
                </plex-help>
            </plex-title>

            <plex-title size="sm" titulo='plex-help con size="lg"' class="mb-4">
                <plex-badge type="info" size="sm">plex-help</plex-badge>
                <plex-help titulo="size = lg" size="lg">
                    <div class="ml-4 mb-4">
                        <p>Panel de ayuda con tamaño grande (800px)</p>
                    </div>
                </plex-help>
            </plex-title>

            <h4 class="mt-4">Ejemplos de eventos y métodos</h4>

            <plex-title size="sm" titulo="Plex-help con cierre programable" class="mb-4">
                <plex-help #toggleTest titulo="Ejemplo de cierre programable" icon="clock" size="md">
                    <div class="help-content p-3">
                        <h5>Demostración de Cierre Programático</h5>
                        <p>Este ejemplo demuestra cómo cerrar el panel de ayuda programáticamente usando toggle()
                        </p>

                        <div class="d-flex align-items-center gap-2">
                            <plex-button type="success" label="Cerrar en {{timer}} segundos" size="lg"
                                         (click)="timerCerrar()">
                            </plex-button>
                        </div>

                        <div class="mt-3">
                            <p><strong>Cómo usar toggle():</strong></p>
                            <ol>
                                <li>Agregar una referencia de plantilla (#) al componente plex-help</li>
                                <li>Acceder al componente usando @ViewChild en tu componente</li>
                                <li>Llamar al método toggle() en la referencia</li>
                            </ol>
                            <span><strong>Agregar al componente:</strong></span>
                            <p>&lt;plex-help <code>#toggleTest</code> [...] &gt;</p>
                            <span><strong>Agregar al componente</strong></span>
                            <p>@ViewChild('toggleTest') <code>helpComponent</code>: PlexHelpComponent;</p>
                            <span><strong>Cerrar programáticamente:</strong></span>
                            <p>this.helpComponent.<code>toggle()</code>;</p>
                        </div>
                    </div>
                </plex-help>
            </plex-title>

            <plex-title size="sm" titulo="plex-help con acción interna" class="mb-4">
                <plex-help #helpTest titulo="seguimiento de pacientes" icon="paciente" size="md">
                    <plex-list size="md">
                        <plex-item *ngFor="let paciente of pacientes$ | async | slice:0:3">
                            <img src="{{ paciente.foto }}" alt="">
                            <plex-label titulo="{{ paciente.apellido }}, {{ paciente.nombre }}"
                                        subtitulo="{{ paciente.documento }}">

                            </plex-label>
                            <plex-label titulo="Edad" subtitulo="{{ paciente.edad }}">

                            </plex-label>
                            <plex-label titulo="Financiador" subtitulo="{{ paciente.financiador }}">

                            </plex-label>
                            <plex-badge type="info" size="sm">{{ paciente.fechaNacimiento }}</plex-badge>
                            <plex-button type="success" label="ver detalle" size="sm"
                                         (click)="agregarItem(paciente, helpTest)">
                            </plex-button>
                        </plex-item>
                    </plex-list>
                </plex-help>
            </plex-title>
            <router-outlet>
                <plex-card *ngIf="showItem === true && paciente$ | async as paciente">

                    <img src="{{ paciente.foto }}" alt="">
                    <plex-label titulo="{{ paciente.apellido }}, {{ paciente.nombre }}"
                                subtitulo="{{ paciente.documento }}">

                    </plex-label>
                    <plex-label titulo="Edad" subtitulo="{{ paciente.edad }}">

                    </plex-label>
                    <plex-label titulo="Financiador" subtitulo="{{ paciente.financiador }}">

                    </plex-label>
                    <plex-badge type="info" size="sm">{{ paciente.fechaNacimiento }}</plex-badge>
                    <plex-button type="success" icon="plus" size="sm">
                    </plex-button>
                </plex-card>
            </router-outlet>
        </main>

    </plex-layout-main>
    <plex-layout-sidebar type="invert">

        <plex-title titulo="Botón personalizado" size="sm">
            <plex-button size="sm" type="success" label="acción satisfactoria"></plex-button>
            <plex-help titulo="Información sobre este panel" subtitulo="A continuación los pasos a seguir"
                       btnType="success">
                <ol info class="list-group-flush">
                    <li>Este ejemplo muestra un botón de tipo success</li>
                    <li>Incluye un subtítulo descriptivo</li>
                    <li>El panel tiene un tamaño automático</li>
                </ol>
            </plex-help>
        </plex-title>
        <p class="mb-3">Útil para mostrar acciones exitosas o confirmaciones positivas en el sistema, como
            guardar
            registros o completar procesos.</p>

        <plex-title titulo="plex-help con titulo" size="sm">
            <plex-help tituloBoton="Ayuda" btnType="primary" titulo="Panel con botón de texto">
                <p class="p-3">
                    Este ejemplo muestra cómo usar la propiedad tituloBoton para mostrar un botón con texto
                    en lugar de solo un ícono.
                </p>
            </plex-help>
        </plex-title>
        <p class="mb-3">Ideal para situaciones donde se necesita un botón de ayuda más descriptivo y visible,
            especialmente útil en formularios complejos o secciones que requieren explicación detallada.</p>

        <plex-title titulo="plex-help con ícono personalizado" size="sm">
            <plex-help titulo="Panel con ícono personalizado" icon="information" btnType="warning">
                <p class="p-3">
                    Este ejemplo muestra cómo cambiar el ícono predeterminado por otro diferente.
                </p>
            </plex-help>
        </plex-title>
        <p class="mb-3">Perfecto para personalizar la apariencia de los botones de ayuda según el contexto,
            como usar
            íconos específicos para diferentes tipos de información o advertencias.</p>

            <plex-title titulo="plex-help en modo invertido" size="sm">
                <plex-help titulo="Panel con modo invertido" icon="information" btnType="info" inverted="true" size="md">
                    <p class="p-3">
                        Este ejemplo muestra el panel de ayuda en modo invertido, con un fondo oscuro que mejora el contraste y la legibilidad del contenido.
                    </p>
                </plex-help>
            </plex-title>
            <p class="mb-3">Útil para situaciones donde se necesita un contraste visual mejorado, presentando el panel de ayuda 
                con un fondo oscuro que destaca el contenido y mejora la legibilidad en interfaces claras.</p>

        <plex-title titulo="Eventos open y close" size="sm">
            <plex-help titulo="Panel con eventos" btnType="primary" (open)="onHelpOpen()" (close)="onHelpClose()">
                <p class="p-3">
                    Este panel emite eventos cuando se abre y se cierra.
                    Revisa la consola para ver los mensajes cuando interactúas con este panel.
                </p>
            </plex-help>
        </plex-title>
        <p class="mb-3">Recomendado para casos donde necesitas ejecutar acciones específicas cuando el
            usuario interactúa con el panel de ayuda, como registrar analíticas o actualizar otros componentes.</p>
    </plex-layout-sidebar>
</plex-layout>